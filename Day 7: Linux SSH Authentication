ğŸ” Â¿QuÃ© es eso de las llaves SSH?
Cuando creaste las llaves SSH, en realidad creaste un par de llaves:
Llave privada ğŸ”‘

Archivo: ~/.ssh/id_rsa
Nunca se comparte
Se queda en el jump host, con el usuario thor

Llave pÃºblica ğŸ”“
Archivo: ~/.ssh/id_rsa.pub
SÃ­ se puede compartir
Se copia a los servidores a los que quieres acceder
Estas dos llaves estÃ¡n matemÃ¡ticamente relacionadas.

ğŸ§  Â¿Para quÃ© sirven?
Sirven para que un servidor diga:
â€œSi tÃº puedes demostrar que tienes la llave privada, entonces confÃ­o en ti y te dejo entrar sin contraseÃ±a.â€

ğŸ› ï¸ Â¿QuÃ© pasÃ³ exactamente cuando ejecutaste ssh-keygen?
Cuando hiciste:
ssh-keygen -t rsa -b 4096
Pasaron estas cosas:
El sistema creÃ³ una llave privada (id_rsa)


CreÃ³ una llave pÃºblica (id_rsa.pub)

Ambas se guardaron en:

 /home/thor/.ssh/

ğŸ“Œ La llave privada nunca sale del jump host.

ğŸ“¤ Â¿QuÃ© hiciste cuando usaste ssh-copy-id?
Por ejemplo:
ssh-copy-id tony@app-server-1
Este comando hizo automÃ¡ticamente:
Se conectÃ³ al App Server 1 como el usuario tony
CopiÃ³ el contenido de:

 /home/thor/.ssh/id_rsa.pub
Lo agregÃ³ al archivo:

 /home/tony/.ssh/authorized_keys
 en el App Server
Ese archivo (authorized_keys) es bÃ¡sicamente una lista de llaves pÃºblicas permitidas.

ğŸ” Â¿QuÃ© pasa ahora cuando haces ssh tony@app-server-1?
Ocurre esto (simplificado):
El servidor dice:
 â€œÂ¿QuiÃ©n eres?â€
Tu jump host responde:
 â€œSoy thor y tengo esta llave pÃºblicaâ€
El servidor revisa:
 â€œÂ¿Esta llave estÃ¡ en authorized_keys de tony?â€
El servidor envÃ­a un reto criptogrÃ¡fico ğŸ”
Tu mÃ¡quina lo firma usando la llave privada
El servidor verifica la firma con la llave pÃºblica
Si todo coincide â†’ ACCESO CONCEDIDO âœ…
 âŒ Nunca se envÃ­a la contraseÃ±a

ğŸ”’ Â¿Por quÃ© es mÃ¡s seguro que usar contraseÃ±as?
No se transmiten contraseÃ±as por la red
No es vulnerable a fuerza bruta
La llave privada estÃ¡ protegida por permisos del sistema
Solo funciona si ambas llaves coinciden

## ğŸ§¾ Resumen rÃ¡pido

| AcciÃ³n          | QuÃ© hiciste realmente                          |
|-----------------|-----------------------------------------------|
| ssh-keygen      | Creaste identidad criptogrÃ¡fica                |
| id_rsa          | Tu identidad secreta                           |
| id_rsa.pub      | Tu identidad pÃºblica                           |
| ssh-copy-id     | Registraste tu identidad en otro servidor      |
| authorized_keys | Lista de identidades permitidas                |
| ssh             | Prueba de identidad sin contraseÃ±a             |


ğŸ§  AnalogÃ­a sencilla
Llave privada = tu llave de casa
Llave pÃºblica = copia del candado
authorized_keys = lista de llaves aceptadas
SSH = el guardia que verifica que tu llave abre la puerta
