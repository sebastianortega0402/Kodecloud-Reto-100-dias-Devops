#!/bin/bash

# Variables
SOURCE_DIR="/var/www/html/beta"
BACKUP_DIR="/backup"
ZIP_NAME="xfusioncorp_beta.zip"
BACKUP_SERVER="172.16.238.16"
BACKUP_USER="clint"
REMOTE_DIR="/backup"

# Create zip archive
zip -r ${BACKUP_DIR}/${ZIP_NAME} ${SOURCE_DIR}

# Copy archive to Nautilus Backup Server
scp ${BACKUP_DIR}/${ZIP_NAME} ${BACKUP_USER}@${BACKUP_SERVER}:${REMOTE_DIR}

Dar permisos de ejecuciÃ³n
chmod +x /scripts/beta_backup.sh
ğŸ—œï¸ Crear el archivo ZIP
zip -r ${BACKUP_DIR}/${ZIP_NAME} ${SOURCE_DIR}

ğŸ” Desglose:
zip â†’ comando para comprimir


-r â†’ recursivo (incluye subdirectorios y archivos)


${BACKUP_DIR}/${ZIP_NAME} â†’ ruta y nombre del ZIP


${SOURCE_DIR} â†’ contenido a comprimir


ğŸ“Œ Resultado:
/backup/xfusioncorp_beta.zip

ğŸ“‚ Contiene todo /var/www/html/beta

ğŸŒ Copiar el backup al servidor remoto
scp ${BACKUP_DIR}/${ZIP_NAME} ${BACKUP_USER}@${BACKUP_SERVER}:${REMOTE_DIR}

ğŸ” Desglose:
scp â†’ copia segura por SSH


${BACKUP_DIR}/${ZIP_NAME} â†’ archivo local


${BACKUP_USER}@${BACKUP_SERVER} â†’ usuario + IP remota


:${REMOTE_DIR} â†’ carpeta destino en el servidor remoto


ğŸ“Œ TraducciÃ³n humana:
â€œCopia el archivo ZIP al directorio /backup del servidor 172.16.238.16 usando el usuario clintâ€
ğŸ” No pide contraseÃ±a porque se usan SSH keys

